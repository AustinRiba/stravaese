<!doctype html>
<html>
<head>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<style type="text/css">
		html { height: 100% }
		body { height: 100%; margin: 0; padding: 0 }
		#map-canvas { height: 90%; padding: 20px }
	</style>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
	<script type="text/javascript"
	src="https://maps.googleapis.com/maps/api/js?libraries=visualization&key=AIzaSyCgAUTHQKsBMyxyyCjUx7xU2inuVQVnxNM&sensor=false">
	</script>
	<script type="text/javascript">
	var map
	function initialize() {
		var mapOptions = {
		  center: new google.maps.LatLng(37.884734,-122.269514),
		  zoom: 12,
		  mapTypeId: google.maps.MapTypeId.TERRAIN
		};
		map = new google.maps.Map(document.getElementById("map-canvas"),
		    mapOptions);
      	}
      	
      	google.maps.event.addDomListener(window, 'load', initialize);
	
	function loadRide(){

            	$.getJSON('/ride/51655860', function(data){
	      		var ridePath = []
	      			$(data.latlng).each(function(index){
	      				var p = new google.maps.LatLng(data.latlng[index][0], data.latlng[index][1])
	      				ridePath.push(p)
	      			})
	      			var rideMap = new google.maps.Polyline({
					path: ridePath,
					strokeColor: "#FF0000",
			    		strokeOpacity: 1.0,
			    		strokeWeight: 2
		 		});
		 		rideMap.setMap(map);
	      		});
      }
      </script>
	<title>Ride Loader</title>
	
	</head>
	<body>
		<input type="button" value="load" id="loadRide" onClick="loadRide()" />
		<div id="map-canvas">Should be replaced</div>
	</body>
</html>
